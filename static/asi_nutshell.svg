<?xml version="1.0"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 696 231">
  <style>
    .text { font: 14px sans-serif; fill: #000; }
  </style>

  <defs>
    <marker id="arrow" viewBox="0 0 10 10" refX="5" refY="5"
            markerWidth="6" markerHeight="6"
            orient="auto-start-reverse">
      <path d="M 0 0 L 10 5 L 0 10 z" fill="#000" />
    </marker>
  </defs>

  <style>
    .placeholder-text {
      font: 12px sans-serif;
      fill: #000;
    }
  </style>

  <rect x="7" y="8" width="208" height="102" fill="#f4cccc" />
  <rect x="7" y="110" width="208" height="102" fill="#d9ead3" />

  <path d="M 28 111 c 0 -39 20 -70 45 -70 c 25 0 44 32 44 71 z"
        fill="#d9ead3"
        stroke="#000000"
        stroke-width="1"
        stroke-dasharray="1 3" />

  <rect x="370" y="12" width="125" height="40" fill="#f4cccc" />
  <rect x="370" y="70" width="125" height="40" fill="#d9ead3" />

  <line x1="117" y1="111" x2="215" y2="111" stroke="#000" stroke-width="2" />
  <line x1="8" y1="111" x2="28" y2="111" stroke="#000" stroke-width="2" />

  <line x1="90" y1="81" x2="133" y2="71"
        stroke="#000"
        stroke-width="1"
        stroke-dasharray="4 3"
        marker-end="url(#arrow)" />

  <text x="85" y="80" transform="rotate(-15 45 60)" class="text" font-size="10">
    Page fault
  </text>

  <text x="230" y="80" class="text">Kernel</text>
  <text x="230" y="150" class="text">Userspace/Guest</text>

  <text x="505" y="28" class="text">
    <tspan x="505" dy="0">Unrestricted address space</tspan>
    <tspan x="505" dy="16">(secrets mapped)</tspan>
  </text>

  <text x="505" y="84" class="text">
    <tspan x="505" dy="0">Restricted address space</tspan>
    <tspan x="505" dy="16">(secrets unmapped)</tspan>
  </text>

</svg>
